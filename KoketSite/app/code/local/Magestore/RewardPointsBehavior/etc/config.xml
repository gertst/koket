<?xml version="1.0"?>
<!--
/**
 * Magestore
 * 
 * NOTICE OF LICENSE
 * 
 * This source file is subject to the Magestore.com license that is
 * available through the world-wide-web at this URL:
 * http://www.magestore.com/license-agreement.html
 * 
 * DISCLAIMER
 * 
 * Do not edit or add to this file if you wish to upgrade this extension to newer
 * version in the future.
 * 
 * @category    Magestore
 * @package     Magestore_RewardPointsBehavior
 * @copyright   Copyright (c) 2012 Magestore (http://www.magestore.com/)
 * @license     http://www.magestore.com/license-agreement.html
 */
-->
<config>
    <modules>
        <Magestore_RewardPointsBehavior>
            <version>0.2.0</version>
        </Magestore_RewardPointsBehavior>
    </modules>
    <frontend>
        <routers>
            <rewardpointsbehavior>
                <use>standard</use>
                <args>
                    <module>Magestore_RewardPointsBehavior</module>
                    <frontName>rewardpointsbehavior</frontName>
                </args>
            </rewardpointsbehavior>
        </routers>
        <layout>
            <updates>
                <rewardpointsbehavior>
                    <file>rewardpointsbehavior.xml</file>
                </rewardpointsbehavior>
            </updates>
        </layout>
        <translate>
            <modules>
                <Magestore_RewardPointsBehavior>
                    <files>
                        <default>Magestore_RewardPointsBehavior.csv</default>
                    </files>
                </Magestore_RewardPointsBehavior>
            </modules>
        </translate>
        <events>
            <newsletter_subscriber_save_after>
                <observers>
                    <behaviorplugin_newsletter_subscriber_save_after>
                        <type>singleton</type>
                        <class>rewardpointsbehavior/observer</class>
                        <method>newsletterSubscriber</method>
                    </behaviorplugin_newsletter_subscriber_save_after>
                </observers>
            </newsletter_subscriber_save_after>
            <!--<customer_register_success>
                <observers>
                    <behaviorplugin_register_success>
                        <class>rewardpointsbehavior/observer</class>
                        <method>customerRegisterSuccess</method>
                    </behaviorplugin_register_success>
                </observers>
            </customer_register_success>-->
            
            
        </events>
    </frontend>
    <admin>
        <routers>
            <rewardpointsbehavioradmin>
                <use>admin</use>
                <args>
                    <module>Magestore_RewardPointsBehavior</module>
                    <frontName>rewardpointsbehavioradmin</frontName>
                </args>
            </rewardpointsbehavioradmin>
        </routers>
    </admin>
    <adminhtml>
        <layout>
            <updates>
                <rewardpointsbehavior>
                    <file>rewardpointsbehavior.xml</file>
                </rewardpointsbehavior>
            </updates>
        </layout>
        <translate>
            <modules>
                <Magestore_RewardPointsBehavior>
                    <files>
                        <default>Magestore_RewardPointsBehavior.csv</default>
                    </files>
                </Magestore_RewardPointsBehavior>
            </modules>
        </translate>
        <events>
            <controller_action_predispatch_adminhtml_tag_save>
                <observers>
                    <customerreward_save_after>
                        <type>singleton</type>
                        <class>rewardpointsbehavior/observer</class>
                        <method>adminTagSave</method>
                    </customerreward_save_after>
                </observers>
            </controller_action_predispatch_adminhtml_tag_save>
            <controller_action_predispatch_adminhtml_tag_massStatus>
                <observers>
                    <rewardpointsbehavior_save_after>
                        <type>singleton</type>
                        <class>rewardpointsbehavior/observer</class>
                        <method>adminTagmassStatus</method>
                    </rewardpointsbehavior_save_after>
                </observers>
            </controller_action_predispatch_adminhtml_tag_massStatus>
        </events>
    </adminhtml>   
    <global>
        <models>
            <rewardpointsbehavior>
                <class>Magestore_RewardPointsBehavior_Model</class>
                <resourceModel>rewardpointsbehavior_mysql4</resourceModel>
            </rewardpointsbehavior>
            <rewardpointsbehavior_mysql4>
                <class>Magestore_RewardPointsBehavior_Model_Mysql4</class>
                <entities>
                    <!--                    <rewardpointsbehavior>
                        <table>rewardpointsbehavior</table>
                    </rewardpointsbehavior>-->
                </entities>
            </rewardpointsbehavior_mysql4>
            <rewardpoints>
                <rewrite>
                    <transaction>Magestore_RewardPointsBehavior_Model_Rewrite</transaction>
                </rewrite>
            </rewardpoints>
        </models>
        <resources>
            <rewardpointsbehavior_setup>
                <setup>
                    <module>Magestore_RewardPointsBehavior</module>
                    <class>Magestore_RewardPoints_Model_Mysql4_Setup</class>
                </setup>
                <connection>
                    <use>core_setup</use>
                </connection>
            </rewardpointsbehavior_setup>
            <rewardpointsbehavior_write>
                <connection>
                    <use>core_write</use>
                </connection>
            </rewardpointsbehavior_write>
            <rewardpointsbehavior_read>
                <connection>
                    <use>core_read</use>
                </connection>
            </rewardpointsbehavior_read>
        </resources>
        <blocks>
            <rewardpointsbehavior>
                <class>Magestore_RewardPointsBehavior_Block</class>
            </rewardpointsbehavior>
        </blocks>
        <helpers>
            <rewardpointsbehavior>
                <class>Magestore_RewardPointsBehavior_Helper</class>
            </rewardpointsbehavior>
        </helpers>
        <events>
			<customer_save_commit_after>
                <observers>
                    <rewardpointsreferfriends_observers>
                        <class>rewardpointsbehavior/observer</class>
                        <method>customerRegisterSuccessForLow</method>
                    </rewardpointsreferfriends_observers>
                </observers>
            </customer_save_commit_after>
            <model_save_after>
                <observers>
                    <behaviorplugin_model_save_after>
                        <type>singleton</type>
                        <class>rewardpointsbehavior/observer</class>
                        <method>modelSaveAfter</method>
                    </behaviorplugin_model_save_after>
                </observers>
            </model_save_after>
            
            <review_save_after>
                <observers>
                    <behaviorplugin_review_save_after>
                        <type>singleton</type>
                        <class>rewardpointsbehavior/observer</class>
                        <method>reviewSaveAfter</method>
                    </behaviorplugin_review_save_after>
                </observers>
            </review_save_after>
            <!--<controller_action_predispatch>
                <observers>
                    <rewardpointsbehavior_observers>
                        <class>rewardpointsbehavior/observer</class>
                        <method>controllerActionPredispatch</method>
                    </rewardpointsbehavior_observers>
                </observers>
            </controller_action_predispatch> -->
        </events>
        <rewardpoints>
            <actions>
                <newsletter>rewardpointsbehavior/actions_newsletter</newsletter>
                <registed>rewardpointsbehavior/actions_registed</registed>
                <review>rewardpointsbehavior/actions_review</review>
                <rate>rewardpointsbehavior/actions_rate</rate>
                <tag>rewardpointsbehavior/actions_tag</tag>
                <poll>rewardpointsbehavior/actions_poll</poll>
                <tweeting>rewardpointsbehavior/actions_tweeting</tweeting>
                <fblike>rewardpointsbehavior/actions_fblike</fblike>
                <!--<unlike>rewardpointsbehavior/actions_unlike</unlike>-->
                <fbshare>rewardpointsbehavior/actions_fbshare</fbshare>
                <ggplus>rewardpointsbehavior/actions_ggplus</ggplus>
                <!--<ggrefund>rewardpointsbehavior/actions_ggrefund</ggrefund>-->
                <birthday>rewardpointsbehavior/actions_birthday</birthday>
            </actions>
        </rewardpoints>
        <template>
            <email>
                <rewardpoints_group_customer_birthday_emai_template translate="label" module="rewardpointsbehavior">
                    <label>Email template sent to customer when birthday</label>
                    <file>rewardpointsbehavior/behavior_birthday.html</file>
                    <type>html</type>
                </rewardpoints_group_customer_birthday_emai_template>
            </email>
        </template>
		
    </global>
    <default>
        <rewardpoints>
            <behaviorplugin>
                <enable>1</enable>
            </behaviorplugin>
            <group_signandnews>
                <signing_up>0</signing_up>
                <newsletter>0</newsletter>
                <show_signup>1</show_signup>
                <show_newsletter>1</show_newsletter>
            </group_signandnews>
            <group_rate_product>
                <rate>0</rate>
                <rate_limit>10</rate_limit>
                <show_rate_product>1</show_rate_product>
            </group_rate_product>
            <group_review_product>
                <review>0</review>
                <review_limit>10</review_limit>
                <show_reviewing>1</show_reviewing>
            </group_review_product>
            <group_tagging_product>
                <tag>0</tag>
                <tag_limit>10</tag_limit>
                <show_tagging>1</show_tagging>
            </group_tagging_product>
            <group_talk_poll>
                <poll>0</poll>
                <poll_limit>10</poll_limit>
                <show_talkpoll>1</show_talkpoll>
            </group_talk_poll>
            <group_customer_birthday>
                <customer_birthday>0</customer_birthday>
                <show_cus_birthday>1</show_cus_birthday>
                <enable_send>1</enable_send>
                <emai_template>rewardpoints_group_customer_birthday_emai_template</emai_template>
            </group_customer_birthday>
            <group_fb_setting>
<!--                <fb_share_earn>0</fb_share_earn>
                <fb_share_earn_limit>10</fb_share_earn_limit>-->
                <fb_like_earn>0</fb_like_earn>
                <fb_like_earn_limit>10</fb_like_earn_limit>
                <minSecondsBetweenLikes>1</minSecondsBetweenLikes>
                <show_fb_like>1</show_fb_like>
                <show_fb_count>1</show_fb_count>
<!--                <show_fb_share>1</show_fb_share>-->
            </group_fb_setting>
            <group_tw_setting>
                <tw_earn>0</tw_earn>
                <tw_earn_limit>10</tw_earn_limit>
                <minSecondsBetweenTweets>1</minSecondsBetweenTweets>
                <show_tw_tweet>1</show_tw_tweet>
                <show_tw_count>1</show_tw_count>
            </group_tw_setting>
            <group_gg_setting>
                <gg_earn>0</gg_earn>
                <gg_earn_limit>10</gg_earn_limit>
                <minSecondsBetweenPlusOnes>1</minSecondsBetweenPlusOnes>
                <show_gg_button>1</show_gg_button>
                <show_gg_count>1</show_gg_count>
            </group_gg_setting>
            <group_social_setting>
                <sc_display>1</sc_display>
                <sc_position_display>0,1,2</sc_position_display>
            </group_social_setting>
        </rewardpoints>
        
    </default>
    <crontab>
        <jobs>
            <rewardpointsbehavior>
                <schedule>
                    <cron_expr>1 * * * *</cron_expr>
                </schedule>
                <run>
                    <model>rewardpointsbehavior/observer::checkCustomerBirthdays</model>
                </run>
            </rewardpointsbehavior>
        </jobs>
    </crontab>
</config>
